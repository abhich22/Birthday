
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday üéÇ</title>
  <style>
    :root{
      --bg1:#0f2027;
      --bg2:#203a43;
      --bg3:#2c5364;
      --accent:#ff6ec7;
      --accent-2:#ffd166;
      --white:#ffffff;
    }

    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3));
      color: var(--white);
      overflow: hidden;
    }

    /* Main container */
    .wrap {
      position: relative;
      height: 100%;
      display: grid;
      place-items: center;
      text-align: center;
      padding: 1rem;
    }

    /* Glass card */
    .card {
      position: relative;
      width: min(780px, 92vw);
      padding: 2.5rem 2rem;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 22px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }

    /* Title */
    .title {
      font-size: clamp(28px, 4.8vw, 52px);
      font-weight: 800;
      letter-spacing: 0.5px;
      margin: 0 0 0.25rem;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .subtitle {
      font-size: clamp(14px, 2.6vw, 18px);
      opacity: 0.85;
      margin-bottom: 1.25rem;
    }

    /* Message area with typewriter caret */
    .message {
      margin: 1rem auto 1.25rem;
      font-size: clamp(16px, 2.9vw, 20px);
      line-height: 1.6;
      max-width: 62ch;
      white-space: pre-wrap;
      min-height: 4.5rem;
      position: relative;
    }
    .caret {
      display: inline-block;
      width: 1ch;
      border-right: 2px solid rgba(255,255,255,0.7);
      animation: blink 0.9s steps(1) infinite;
      transform: translateY(2px);
      margin-left: 2px;
    }
    @keyframes blink { 50% { border-color: transparent; } }

    /* Button row */
    .actions {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 1rem;
    }
    .btn {
      border: none;
      outline: none;
      padding: 0.8rem 1.1rem;
      border-radius: 14px;
      font-weight: 600;
      color: #0d0d0d;
      cursor: pointer;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.2s ease;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    }
    .btn.secondary {
      background: rgba(255,255,255,0.9);
    }

    /* Footer note */
    .footer {
      margin-top: 1rem;
      font-size: 13px;
      opacity: 0.7;
    }

    /* Confetti canvas */
    canvas#confetti {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* Floating balloons */
    .balloons {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }
    .balloon {
      position: absolute;
      width: 48px;
      height: 64px;
      background: radial-gradient(circle at 30% 30%, #fff6, #fff0 40%), var(--accent);
      border-radius: 28px 28px 28px 28px / 40px 40px 24px 24px;
      box-shadow: inset -10px -12px 24px rgba(0,0,0,0.25), 0 10px 28px rgba(0,0,0,0.25);
      transform: translateY(110vh);
      animation: floatUp linear forwards;
    }
    .string {
      position: absolute;
      left: 50%;
      bottom: -22px;
      width: 2px;
      height: 24px;
      background: rgba(255,255,255,0.8);
      transform: translateX(-50%);
      border-radius: 2px;
    }
    @keyframes floatUp {
      0%   { transform: translateY(110vh) translateX(0); }
      100% { transform: translateY(-15vh) translateX(0); }
    }

    /* Decorative sparkles */
    .sparkle {
      position: fixed;
      width: 6px; height: 6px;
      border-radius: 50%;
      background: rgba(255,255,255,0.6);
      box-shadow: 0 0 8px rgba(255,255,255,0.9);
      animation: twinkle 2.2s ease-in-out infinite;
      pointer-events: none;
    }
    @keyframes twinkle {
      0% { transform: scale(0.6); opacity: 0.3; }
      50% { transform: scale(1); opacity: 1; }
      100% { transform: scale(0.6); opacity: 0.3; }
    }
  </style>
</head>
<body>
  <!-- Confetti layer -->
  <canvas id="confetti"></canvas>

  <!-- Background balloons -->
  <div class="balloons" id="balloons"></div>

  <!-- Sparkles -->
  <div id="sparkles"></div>

  <!-- Main content -->
  <div class="wrap">
    <div class="card">
      <h1 class="title" id="title">Happy Birthday, Friend! üéâ</h1>
      <p class="subtitle" id="subtitle">Wishing you joy, laughter, and all the things that make you smile.</p>

      <div class="message"><span id="typewriter"></span><span class="caret"></span></div>

      <div class="actions">
        <button class="btn" id="confettiBtn">Burst Confetti üéä</button>
        <button class="btn secondary" id="musicBtn">Play Music ‚ñ∂Ô∏è</button>
      </div>

      <div class="footer">Made with üíô ‚Äî celebrate big, dream bigger!</div>
    </div>
  </div>

  <!-- Optional built-in tone (royalty-free style bleep) -->
  <audio id="bgm" preload="auto"> 
    <!-- Simple base64 beep melody generated in-browser (JS will synthesize if unavailable) -->
  </audio>

  <script>
    /***********************
     * üéØ CONFIGURATIONS
     ***********************/
    const CONFIG = {
      recipientName: "Sweetyyy",            // Change the name
      headlineEmoji: "üéÇüéà",                 // Emojis for title
      mainMessage:
`Dear Rakshitha Madamm,

I hope this year brings you lots of happinacess, success, and beautiful moments.
Please take care of yourself and keep smiling always, coz many can feel you üôÉ.
May your days be filled with laughter, love, and all the things that make you happy.
Keep shining bright ‚Äî the best is yet to come! üåü`,
      colors: {
        accent: "#ff6ec7",    // pink
        accent2: "#ffd166",   // golden
        bg1: "#0f2027",
        bg2: "#203a43",
        bg3: "#2c5364"
      },
      balloons: 14,           // How many balloons
      confettiBurst: 180,     // Particles per burst
      autoTypeSpeed: 22,      // ms per character
      autoConfettiOnLoad: true
    };

    /***********************
     * üñåÔ∏è Apply theme colors
     ***********************/
    (function applyTheme(){
      const r = document.documentElement;
      r.style.setProperty('--accent', CONFIG.colors.accent);
      r.style.setProperty('--accent-2', CONFIG.colors.accent2);
      r.style.setProperty('--bg1', CONFIG.colors.bg1);
      r.style.setProperty('--bg2', CONFIG.colors.bg2);
      r.style.setProperty('--bg3', CONFIG.colors.bg3);
      document.getElementById('title').textContent = `Happy Birthday, ${CONFIG.recipientName}! ${CONFIG.headlineEmoji}`;
    })();

    /***********************
     * ‚å®Ô∏è Typewriter
     ***********************/
    const twEl = document.getElementById('typewriter');
    let typedIndex = 0, typingTimer;

    function startTyping(text, speed=24){
      clearInterval(typingTimer);
      twEl.textContent = "";
      typedIndex = 0;
      typingTimer = setInterval(()=>{
        if (typedIndex >= text.length) { clearInterval(typingTimer); return; }
        twEl.textContent += text[typedIndex++];
      }, speed);
    }

    /***********************
     * üéà Balloons
     ***********************/
    const balloonsEl = document.getElementById('balloons');
    function rand(min, max){ return Math.random() * (max - min) + min; }

    function spawnBalloons(count){
      balloonsEl.innerHTML = "";
      const colors = [CONFIG.colors.accent, CONFIG.colors.accent2, "#71eeb8", "#a28cff", "#ff9f1c"];
      for(let i=0;i<count;i++){
        const b = document.createElement('div');
        b.className = 'balloon';
        const color = colors[i % colors.length];
        b.style.background = `radial-gradient(circle at 30% 30%, #fff6, #fff0 40%), ${color}`;
        const left = rand(0, 100);
        b.style.left = left + "vw";
        const delay = rand(0, 6);
        const duration = rand(7, 16);
        b.style.animationDuration = duration + "s";
        b.style.animationDelay = delay + "s";
        b.style.transform = `translateY(${rand(100, 120)}vh)`;
        const string = document.createElement('div');
        string.className = 'string';
        b.appendChild(string);
        balloonsEl.appendChild(b);
      }
    }

    /***********************
     * ‚ú® Sparkles
     ***********************/
    const sparklesEl = document.getElementById('sparkles');
    function spawnSparkles(n=24){
      sparklesEl.innerHTML = "";
      for(let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className = 'sparkle';
        s.style.left = rand(0,100) + "vw";
        s.style.top = rand(0,100) + "vh";
        s.style.animationDelay = rand(0, 2) + "s";
        s.style.animationDuration = rand(1.6, 3) + "s";
        sparklesEl.appendChild(s);
      }
    }

    /***********************
     * üéä Confetti
     ***********************/
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let confettiPieces = [];
    function resizeCanvas(){
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function makeConfetti(n=CONFIG.confettiBurst){
      const hues = [330, 45, 190, 270, 120];
      for(let i=0;i<n;i++){
        confettiPieces.push({
          x: canvas.width/2 + rand(-80,80),
          y: canvas.height/2 + rand(-20,20),
          r: rand(2, 5),
          angle: rand(0, Math.PI*2),
          speedX: rand(-4, 4),
          speedY: rand(-8, -3),
          gravity: rand(0.08, 0.22),
          hue: hues[Math.floor(rand(0, hues.length))],
          alpha: 1,
          spin: rand(-0.2, 0.2)
        });
      }
    }

    function drawConfetti(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for(let p of confettiPieces){
        p.x += p.speedX;
        p.y += p.speedY;
        p.speedY += p.gravity;
        p.angle += p.spin;
        p.alpha -= 0.005;
        ctx.save();
        ctx.globalAlpha = Math.max(0, p.alpha);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.angle);
        const grad = ctx.createLinearGradient(-6,-6,6,6);
        grad.addColorStop(0, `hsl(${p.hue} 90% 60%)`);
        grad.addColorStop(1, `hsl(${p.hue} 90% 75%)`);
        ctx.fillStyle = grad;
        ctx.fillRect(-6, -2, 12, 4);
        ctx.restore();
      }
      confettiPieces = confettiPieces.filter(p => p.alpha > 0);
      requestAnimationFrame(drawConfetti);
    }
    drawConfetti();

    /***********************
     * üîä Simple Music
     * Generates a gentle chime via WebAudio (no external file).
     ***********************/
    const musicBtn = document.getElementById('musicBtn');
    let audioCtx, musicPlaying = false;

    async function playMelody(){
      if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const tempo = 84; // BPM
      const notes = [
        { f: 523.25, d: 0.35 }, // C5
        { f: 659.25, d: 0.35 }, // E5
        { f: 783.99, d: 0.35 }, // G5
        { f: 1046.5, d: 0.5 },  // C6
        { f: 987.77, d: 0.35 }, // B5
        { f: 880.00, d: 0.35 }, // A5
        { f: 783.99, d: 0.5 },  // G5
      ];
      const beat = 60/tempo;
      let t = audioCtx.currentTime;
      for(const {f,d} of notes){
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(f, t);
        gain.gain.setValueAtTime(0.0001, t);
        gain.gain.exponentialRampToValueAtTime(0.3, t + 0.02);
        gain.gain.exponentialRampToValueAtTime(0.0001, t + d * beat);
        osc.connect(gain).connect(audioCtx.destination);
        osc.start(t);
        osc.stop(t + d * beat + 0.02);
        t += d * beat + 0.03;
      }
    }

    musicBtn.addEventListener('click', async ()=>{
      if (!musicPlaying) {
        musicPlaying = true;
        musicBtn.textContent = "Pause Music ‚è∏Ô∏è";
        await playMelody();
        musicPlaying = false;
        musicBtn.textContent = "Play Music ‚ñ∂Ô∏è";
      } else {
        // One-shot melody; no continuous playback
      }
    });

    /***********************
     * üéÆ Buttons
     ***********************/
    const confettiBtn = document.getElementById('confettiBtn');
    confettiBtn.addEventListener('click', ()=> makeConfetti());

    /***********************
     * üöÄ Init
     ***********************/
    function init(){
      // personalize subtitle slightly
      const sub = document.getElementById('subtitle');
      sub.textContent = `Wishing you an amazing year ahead, ${CONFIG.recipientName}!`;

      startTyping(CONFIG.mainMessage, CONFIG.autoTypeSpeed);
      spawnBalloons(CONFIG.balloons);
      spawnSparkles(26);
      if (CONFIG.autoConfettiOnLoad) makeConfetti();
    }
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
